(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{281:function(t,e,o){var content=o(397);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("2541af40",content,!0,{sourceMap:!1});},282:function(t,e,o){var content=o(422);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("33f32077",content,!0,{sourceMap:!1});},283:function(t,e,o){var content=o(424);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("361ab32d",content,!0,{sourceMap:!1});},284:function(t,e,o){var content=o(426);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(23).default)("01ffce05",content,!0,{sourceMap:!1});},396:function(t,e,o){"use strict";o(281);},397:function(t,e,o){var n=o(22)(!1);n.push([t.i,"li[data-v-1d7f2858]{padding:5px}i[data-v-1d7f2858]{font-size:22px}i[data-v-1d7f2858]:hover{transform:rotate(-20deg);transition:.5s ease-in-out}.soc-fb[data-v-1d7f2858]{color:#007bff}.soc-insta[data-v-1d7f2858]{color:#e4405f}.soc-youtube[data-v-1d7f2858]{color:#cd201f}.soc-gmail[data-v-1d7f2858]{color:#dd4b39}.soc-email[data-v-1d7f2858]{color:#f57d00}",""]),t.exports=n;},421:function(t,e,o){"use strict";o(282);},422:function(t,e,o){var n=o(22)(!1);n.push([t.i,".comment[data-v-6fcc6b60]{position:relative}.comment .area-group[data-v-6fcc6b60]{display:block;width:100%;max-width:400px;position:relative}.comment .area-group .emoji-opener[data-v-6fcc6b60]{display:block;width:20px;height:20px;position:absolute;top:10px;right:60px;color:grey;text-decoration:none}.comment .area-group .emoji-opener[data-v-6fcc6b60]:hover{color:#000;transition:.5s ease}.comment .area-group .emoji-opener i[data-v-6fcc6b60]{font-size:20px}.comment .area-group .image-upload[data-v-6fcc6b60]{right:30px}.comment .area-group textarea[data-v-6fcc6b60]{display:block;width:100%;max-width:400px;border-radius:20px;outline:none;height:37px;border:1px solid grey;resize:none;padding-right:80px!important;box-sizing:border-box;-ms-overflow-style:none;overflow:-moz-scrollbars-none}.comment .area-group textarea[data-v-6fcc6b60]::-webkit-scrollbar{width:0}.comment .area-group .edit-comment[data-v-6fcc6b60]{height:100px}.comment .send-button[data-v-6fcc6b60]{margin:20px 0 0}.comment #EmojiPicker[data-v-6fcc6b60]{position:absolute;top:-369px;right:29px}.comment .edit-emoji[data-v-6fcc6b60]{top:-169px!important;right:0!important}",""]),t.exports=n;},423:function(t,e,o){"use strict";o(283);},424:function(t,e,o){var n=o(22)(!1);n.push([t.i,"video[data-v-35946168],video[data-v-35946168]:hover{outline:none;border:none}.comment-wrap .inline[data-v-35946168]{display:inline-block;vertical-align:top;font-size:16px}.comment-wrap .btn-custom[data-v-35946168]{width:auto;margin:auto;border:none}.comment-wrap .comment[data-v-35946168]{background-color:#d3d3d3;padding:7px 18px;border-radius:30px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:500px;min-width:180px;box-sizing:border-box;word-break:break-word;font-family:\"Roboto\",sans-serif;font-style:normal;font-weight:300;font-size:14px;line-height:20px;color:#000;display:inline-block}.comment-wrap .comment p[data-v-35946168]{margin:0}.comment-wrap .comment .img[data-v-35946168]{width:100%;margin-bottom:10px;border-radius:10px;max-height:300px;max-width:400px;display:block}.comment-wrap small[data-v-35946168]{font-family:\"Roboto\",sans-serif;font-style:normal;font-weight:300;color:#000}",""]),t.exports=n;},425:function(t,e,o){"use strict";o(284);},426:function(t,e,o){var n=o(22)(!1);n.push([t.i,".layer[data-v-6f579f69]{background:rgba(0,0,0,.8);position:fixed;width:100%;height:100%;top:0;left:0;z-index:1500}.sign[data-v-6f579f69]{color:#000;font-size:14px;font-family:\"Open Sans\",sans-serif;font-style:normal;font-weight:400}.news-wrapper[data-v-6f579f69]{justify-content:center;align-items:center;width:100vw;height:100vh;z-index:0;position:relative;overflow:hidden}.news-wrapper #bg[data-v-6f579f69]{display:block;-o-object-fit:none;object-fit:none}.news-wrapper .news[data-v-6f579f69]{display:flex;flex-direction:column;justify-content:flex-start;top:6.04vw;position:absolute;width:919px;overflow-y:auto}@media screen and (max-width:1281px){.news-wrapper .news[data-v-6f579f69]{top:77.3px}}@media screen and (min-width:1281px) and (max-width:1899px){.news-wrapper .news[data-v-6f579f69]{top:96.7px}}@media screen and (min-width:1899px) and (max-width:2047px){.news-wrapper .news[data-v-6f579f69]{top:116px}}@media screen and (min-width:2047px){.news-wrapper .news[data-v-6f579f69]{top:122px}}@media screen and (min-width:2200px){.news-wrapper .news[data-v-6f579f69]{top:214px}}@media screen and (width:2560px){.news-wrapper .news[data-v-6f579f69]{top:138px}}@media screen and (max-width:760px){.news-wrapper .news[data-v-6f579f69]{top:139px!important}}.news-wrapper .news .news-item[data-v-6f579f69]{width:100%;background-color:#fff}@media screen and (max-width:760px){.news-wrapper .news .news-item[data-v-6f579f69]{width:100%;max-width:375px!important;margin-bottom:10px!important}}.news-wrapper .news .news-item[data-v-6f579f69]:first-child{margin-top:0!important}.news-wrapper .news .news-item[data-v-6f579f69]:last-child{margin-bottom:100px!important}@media screen and (max-width:700px){.news-wrapper .news .news-item[data-v-6f579f69]:last-child{margin-bottom:250px!important}}.news-wrapper .news .news-item .soc-group[data-v-6f579f69]{display:block;width:200px;background:red}.news-wrapper .news .news-item .soc-group .soc[data-v-6f579f69]{display:flex;align-items:center;justify-content:center;font-size:14px;width:25px;height:25px;border-radius:50%;text-decoration:none;color:#fff;margin-right:20px}.news-wrapper .news .news-item .soc-group .soc-fb[data-v-6f579f69]{background-color:#226ace}.news-wrapper .news .news-item .soc-group .soc-insta[data-v-6f579f69]{background-color:#26915b}.news-wrapper .news .news-item .soc-group .soc-youtube[data-v-6f579f69]{background-color:#e05251}.news-wrapper .news .news-item__header h3[data-v-6f579f69]{font-family:\"Open Sans\",sans-serif;font-style:normal;font-weight:400;font-size:28px;line-height:38px;color:#000}.news-wrapper .news .news-item__header .date[data-v-6f579f69]{font-family:\"Open Sans\",sans-serif;font-style:normal;font-weight:400;font-size:18px;line-height:25px;color:#787878}.news-wrapper .news .news-item__body img[data-v-6f579f69]{width:100%}.news-wrapper .news .news-item__body .text[data-v-6f579f69]{text-align:justify;font-family:\"Roboto\",sans-serif;font-style:normal;font-weight:300;font-size:18px;line-height:30px;color:#000;height:auto;text-overflow:ellipsis}.news-wrapper .news .news-item__body .text p[data-v-6f579f69]{margin-bottom:0!important}.news-wrapper .news .news-item__footer[data-v-6f579f69]{border-bottom:1px solid #c5c5c5;border-top:1px solid #c5c5c5}.likes-container[data-v-6f579f69]{font-family:\"Open Sans\",sans-serif;font-style:normal;display:flex;justify-content:space-between;font-weight:400;font-size:17px;line-height:23px;color:grey}.likes-container .likes[data-v-6f579f69]{width:25px;height:25px}.likes-container .likes__hover[data-v-6f579f69]{color:#5f9ea0;cursor:pointer;transition:1s ease}.likes-container .likes .caps[data-v-6f579f69]{font-family:\"Open Sans\",sans-serif;font-style:normal;font-weight:400;font-size:17px;line-height:23px;text-transform:uppercase;color:#000}.likes-container .likes img[data-v-6f579f69]{width:100%;display:block;height:100%}.likes-container .likes .like[data-v-6f579f69]{width:18px;height:18px;display:block}.likes-container .likes-white[data-v-6f579f69]{width:145px}.fade-enter-active[data-v-6f579f69],.fade-leave-active[data-v-6f579f69]{transition:opacity 1.5s}.fade-enter[data-v-6f579f69],.fade-leave-to[data-v-6f579f69]{opacity:0}.iframe[data-v-6f579f69]{width:400px;height:400px;position:fixed;top:0;right:300px;background:#fff;z-index:99999;right:50%;left:50%;top:50%;bottom:50%;transform:translate(-50%,-50%)}@media screen and (max-width:700px){.more-news p[data-v-6f579f69]{text-align:left;word-wrap:break-word;word-break:break-all}}",""]),t.exports=n;},444:function(t,o,n){"use strict";n.r(o);n(34),n(17),n(14),n(7),n(21),n(131),n(28);var r=n(11),c=n(306),l={name:"social",methods:{emitOpenFormModal:function(){this.$emit("emitOpenFormModal");},authInSocial:function(t){window.location.href="".concat(this.$axios.defaults.baseURL,"oauth/").concat(t,"/authenticate");}}},m=(n(396),n(10)),d=Object(m.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"d-flex justify-content-around soc-group"},[o("li",[o("a",{staticClass:"soc soc-fb",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.authInSocial("facebook");}}},[o("i",{staticClass:"fab fa-facebook-f"})])]),t._v(" "),o("li",[o("a",{staticClass:"soc soc-insta",attrs:{href:"#",target:"_blank"},on:{click:function(e){return e.preventDefault(),t.authInSocial("facebook");}}},[o("i",{staticClass:"fab fa-instagram"})])]),t._v(" "),o("li",[o("a",{staticClass:"soc soc-gmail",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.authInSocial("google");}}},[o("i",{staticClass:"fab fa-google-plus-square"})])]),t._v(" "),o("li",[o("a",{staticClass:"soc soc-email",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.emitOpenFormModal(e);}}},[o("i",{staticClass:"fas fa-envelope"})])])]);}),[],!1,null,"1d7f2858",null).exports,f=(n(236),n(257)),h=n(18);n(63);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var w={name:"Login",props:{target:String,id:Number},data:function(){return{email:"",password:""};},validations:{email:{email:f.email,required:f.required},password:{required:f.required,minLength:Object(f.minLength)(6)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{setCookie:function(t,e,o){document.cookie=t+"="+e+";";var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);n.toUTCString();document.cookie=t+"="+e+";";},submitHandler:function(){var t=this;if(this.$v.$invalid)return this.$v.$touch(),void this.$emit("loginFalse");this.$axios.post("login",{email:this.email,password:this.password}).then((function(e){t.setCookie("token",e.data.key,2);})).then((function(){"like"===t.target?(console.log("like",t.id),t.itsLike()):t.itsComment(),t.closeModal();}));},itsLike:function(){this.$bus.$emit("addLike",this.id);},itsComment:function(){this.$emit("addComment");},closeModal:function(){this.$emit("closeModal"),this.$emit("loginFalse");}}},C=Object(m.a)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"p-5",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e);}}},[o("div",{staticClass:"moda",attrs:{tabindex:"100",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header moda-header"},[o("h3",[t._v(t._s(t.$options.filters.toUSD(t.language,"Мартова Риверсайд")))]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),o("div",{staticClass:"modal-body p-5 pb-0"},[o("h4",{staticClass:"modal-title text-center"},[t._v(t._s(t.$options.filters.toUSD(t.language,"Вход")))]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:this.$options.filters.toUSD(this.language,"Введите email")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.email.$dirty&&!t.$v.email.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(t.language,"notEmpty"))+"\n            ")]):t.$v.email.$dirty&&!t.$v.email.email?o("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.$options.filters.toUSD(t.language,"correctMail"))+"\n              ")]):t._e()]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:this.$options.filters.toUSD(this.language,"Введите пароль")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.password.$dirty&&!t.$v.password.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(this.language,"Введите пароль")))]):t.$v.password.$dirty&&!t.$v.password.minLength?o("small",{staticClass:"text-danger"},[t._v("\n              "+t._s(t.$options.filters.toUSD(this.language,"Пароль должен быть не менее"))+"\n               "+t._s(t.$v.password.$params.minLength.min)+" "+t._s(t.$options.filters.toUSD(this.language,"символов"))+" ")]):t._e()])]),t._v(" "),o("div",{staticClass:"modal-footer moda-footer"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n            "+t._s(t.$options.filters.toUSD(this.language,"Войти"))+"\n          ")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[t._v("\n            "+t._s(t.$options.filters.toUSD(this.language,"Закрыть"))+"\n          ")])])])])])]);}),[],!1,null,"5afab630",null).exports;n(132);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var y={name:"Registration",props:{target:String},data:function(){return{name:"",email:"",password:"",repeat:""};},validations:{email:{email:f.email,required:f.required},password:{required:f.required,minLength:Object(f.minLength)(6)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{login:function(){var t=this;this.$axios.post("login",{email:this.email,password:this.password}).then((function(e){t.setCookie("token",e.data.key,2),"like"===t.target?t.itsLike():t.itsComment(),t.$store.commit("SET_USER_NAME",t.name),t.closeModal(),t.$notify({group:"foo",type:"success",title:"",text:"Вы успешно зарегистрировались!"});})).catch((function(){t.$notify({group:"foo",type:"error",title:"Ошибка входа",text:e.text});}));},setCookie:function(t,e,o){document.cookie=t+"="+e+";";var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);n.toUTCString();document.cookie=t+"="+e+";";},submitHandler:function(){var t=this;if(this.$v.$invalid)this.$v.$touch();else{var e={name:this.name,email:this.email,password:this.password,c_password:this.repeat};this.$axios.post("register",e,{crossdomain:!0,mode:"no-cors",dataType:"json"}).then((function(){t.login();})).catch((function(e){t.$notify({group:"foo",type:"error",title:"Ошибка при регистрации",text:e.text});}));}},itsLike:function(){this.$emit("addLike");},itsComment:function(){this.$emit("addComment");},closeModal:function(){this.$emit("closeModal");},showLogin:function(){this.$emit("showLogin");}}},x=Object(m.a)(y,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"p-5",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e);}}},[o("div",{staticClass:"moda",attrs:{tabindex:"100",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header moda-header"},[o("h3",[t._v("\n                        "+t._s(t.$options.filters.toUSD(t.language,"Мартова Риверсайд"))+"\n                    ")]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),o("div",{staticClass:"modal-body p-5 pb-0"},[o("h4",{staticClass:"modal-title text-center"},[t._v("\n                        "+t._s(t.$options.filters.toUSD(t.language,"Регистрация"))+"\n                    ")]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:this.$options.filters.toUSD(this.language,"Введите имя")},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.email.$dirty&&!t.$v.email.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(t.language,"notEmptyName"))+"\n                        ")]):t._e()]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:this.$options.filters.toUSD(this.language,"Введите email")},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.email.$dirty&&!t.$v.email.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(t.language,"notEmpty"))+"\n                        ")]):t.$v.email.$dirty&&!t.$v.email.email?o("small",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"correctMail"))+"\n                        ")]):t._e()]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:this.$options.filters.toUSD(this.language,"Введите пароль")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.password.$dirty&&!t.$v.password.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(this.language,"Введите пароль")))]):t.$v.password.$dirty&&!t.$v.password.minLength?o("small",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(this.language,"Пароль должен быть не менее"))+"\n                            "+t._s(t.$v.password.$params.minLength.min)+"\n                            "+t._s(t.$options.filters.toUSD(this.language,"символов"))+"\n                        ")]):t._e()]),t._v(" "),o("div",{staticClass:"form-group my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.repeat,expression:"repeat",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword6",placeholder:this.$options.filters.toUSD(this.language,"Повторите пароль")},domProps:{value:t.repeat},on:{input:function(e){e.target.composing||(t.repeat=e.target.value.trim());},blur:function(e){return t.$forceUpdate();}}}),t._v(" "),t.$v.password.$dirty&&!t.$v.password.required?o("small",{staticClass:"text-danger"},[t._v(t._s(t.$options.filters.toUSD(this.language,"Повторите пароль")))]):t.$v.password.$dirty&&!t.$v.password.minLength?o("small",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(this.language,"Пароль должен быть не менее"))+"\n                            "+t._s(t.$v.password.$params.minLength.min)+"\n                            "+t._s(t.$options.filters.toUSD(this.language,"символов"))+"\n                        ")]):t._e()]),t._v(" "),o("a",{staticClass:"text-center w-100 d-block",staticStyle:{cursor:"pointer",color:"dodgerblue"},attrs:{href:"#",title:this.$options.filters.toUSD(this.language,"Я регистрировался ранее")},on:{click:function(e){return e.preventDefault(),t.showLogin(e);}}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Войти"))+"\n                    ")])]),t._v(" "),o("div",{staticClass:"modal-footer moda-footer"},[o("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Зарегистрироваться"))+"\n                    ")]),t._v(" "),o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Закрыть"))+"\n                    ")])])])])])]);}),[],!1,null,"4071f40c",null).exports,k=n(443),$=n(67),O=n.n($);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var S={name:"addComment",components:{VEmojiPicker:k.a,vClickOutside:O.a},props:{text:String,editcomment:Boolean},data:function(){return{comment:"",isEmojiShow:!1,curretPosition:null,selectedFile:null,visible:!1,sorce:""};},directives:{clickOutside:O.a.directive},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{getCurretPosition:function(t){this.curretPosition=t.target.selectionStart;},selectEmoji:function(t){this.comment=this.comment.substr(0,this.curretPosition)+t.data+this.comment.substring(this.curretPosition);},hideEmoji:function(){this.isEmojiShow=!1;},onFileSelected:function(t){this.selectedFile=t.target.files[0],this.visible=!0;},addComment:function(t){this.editcomment?(this.$bus.$emit("sendEditComment",t),this.comment=""):(this.$emit("addComment",t),this.comment="");},onUpload:function(){this.editcomment?this.$bus.$emit("emitToImageSave",this.selectedFile):this.$emit("emitToImageSave",this.selectedFile),this.visible=!1,this.$notify({group:"top",type:"success",title:"",text:"Загрузка завершена."}),this.selectedFile=null;}},mounted:function(){this.text&&this.text.length&&(this.comment=this.text);},watch:{comment:function(t,e){this.$emit("changeComment",t);}}},D=(n(421),Object(m.a)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment justify-content-center align-items-center my-4",class:{"d-flex":!t.editcomment}},[o("div",{staticClass:"area-group"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"px-3 py-2",class:{"edit-comment":t.editcomment},attrs:{type:"text",placeholder:this.$options.filters.toUSD(t.language,"Напишите комментарий")},domProps:{value:t.comment},on:{click:function(e){return t.getCurretPosition(e);},keyup:function(e){return t.getCurretPosition(e);},input:function(e){e.target.composing||(t.comment=e.target.value);}}}),t._v(" "),o("a",{staticClass:"emoji-opener",attrs:{href:"#"},on:{click:function(e){t.isEmojiShow=!t.isEmojiShow;}}},[o("i",{staticClass:"far fa-smile-beam"})]),t._v(" "),o("input",{ref:"fileInput",staticClass:"d-none inp compact-form",attrs:{type:"file"},on:{change:function(e){return e.preventDefault(),t.onFileSelected(e);}}}),t._v(" "),o("a",{staticClass:"emoji-opener image-upload",attrs:{href:"#"},on:{click:function(e){return t.$refs.fileInput.click();}}},[o("i",{staticClass:"fas fa-camera-retro"})])]),t._v(" "),t.visible?o("button",{staticClass:"btn btn-info ml-3",class:{"send-button":t.editcomment},on:{click:t.onUpload}},[t._v("\n        "+t._s(this.$options.filters.toUSD(t.language,"Загрузть"))+"\n        "),o("i",{staticClass:"fas fa-upload"})]):t._e(),t._v(" "),t.editcomment?o("button",{staticClass:"btn btn-secondary ml-3",class:{"send-button":t.editcomment},on:{click:function(e){return t.$emit("close");}}},[t._v("\n        "+t._s(this.$options.filters.toUSD(t.language,"Отмена"))+"\n    ")]):t._e(),t._v(" "),o("button",{staticClass:"btn btn-primary ml-3",class:{"send-button":t.editcomment},on:{click:function(e){return e.preventDefault(),t.addComment(t.comment);}}},[t._v("\n        "+t._s(this.$options.filters.toUSD(t.language,"Отправить"))+"\n    ")]),t._v(" "),t.isEmojiShow?o("VEmojiPicker",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideEmoji,expression:"hideEmoji"}],class:{"edit-emoji":t.editcomment},on:{select:t.selectEmoji}}):t._e()],1);}),[],!1,null,"6fcc6b60",null).exports);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var U={name:"comment",props:{id:Number,isShowComment:Boolean,tok:String,currentComment:Object},data:function(){return{comments:[],cutComment:[],isFull:!1};},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({currentPost:function(){return this.$store.getters.postId;},arrayToShow:function(){return this.isFull?this.comments:this.cutComment;}},Object(h.b)(["language","currentUserName"])),methods:{getComment:function(){var t=this;this.$axios.get("news_comments/".concat(this.currentPost)).then((function(e){t.comments=e.data.data,t.comments.length<4?t.cutComment=t.comments:t.cutComment=t.comments.slice(t.comments.length-3,t.comments.length);}));},toggleIsFull:function(){this.isFull=!this.isFull;},transformDate:function(t){return t.split("T");}},mounted:function(){this.$bus.$on("updateChild",this.getComment),this.isShowComment&&this.getComment();},watch:{comments:function(t,e){t.length>e.length&&(console.log("more"),this.$store.commit("SET_USER_NAME",t[t.length-1].author.name));}}},E=(n(423),Object(m.a)(U,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"comment-wrap d-flex flex-column-reverse pl-4 py-2"},[!t.isFull&&this.comments.length>4?o("button",{staticClass:"btn btn-custom btn-outline-success",on:{click:t.toggleIsFull}},[t._v("\n        "+t._s(this.$options.filters.toUSD(t.language,"Показать все"))+"\n    ")]):t._e(),t._v(" "),t.isFull&&this.comments.length>4?o("button",{staticClass:"btn btn-custom btn-outline-success",on:{click:t.toggleIsFull}},[t._v("\n        "+t._s(this.$options.filters.toUSD(t.language,"Скрыть"))+"\n    ")]):t._e(),t._v(" "),t._l(t.arrayToShow,(function(e){return o("div",{key:e.id,staticClass:"my-2",on:{click:function(o){return t.$emit("toggleCommentConfig",e);}}},[o("div",{staticClass:"comment"},[o("div",{staticClass:"d-flex"},[o("p",{staticClass:"mr-2",staticStyle:{color:"#0069d9","white-space":"nowrap"}},[t._v("\n                    "+t._s(e.author.name)+":\n                ")]),t._v(" "),o("p",[t._v(t._s(e.text))])]),t._v(" "),e.image&&"img"===e.image_type?o("img",{staticClass:"img",attrs:{src:e.image,alt:"image"}}):t._e(),t._v(" "),e.image&&"video"===e.image_type?o("video",{staticClass:"img",attrs:{src:e.image,controls:""}}):t._e()]),t._v(" "),t.currentUserName===e.author.name?o("span",{staticClass:"inline"},[t._v("...")]):t._e(),t._v(" "),o("div",[o("small",{staticClass:"pl-4"},[t._v(t._s(t.transformDate(e.created_at)[0]))]),t._v(" "),o("small",{staticClass:"pl-4"},[t._v(t._s(t.transformDate(e.created_at)[1].split(".")[0]))])])]);}))],2);}),[],!1,null,"35946168",null).exports);function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var I={name:"confirm",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{}},L=Object(m.a)(I,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"p-5"},[o("div",{attrs:{tabindex:"100",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-body p-5 pb-0"},[o("h3",{staticStyle:{color:"black"}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Удалить комментарий"))+"\n                    ")]),t._v(" "),o("small",[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Точно навсегда удалить этот комментарий?"))+"\n                    ")])]),t._v(" "),o("div",{staticClass:"modal-footer moda-footer"},[o("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.$emit("closeModal");}}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Отмена"))+"\n                    ")]),t._v(" "),o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("deleteComment");}}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(this.language,"Удалить"))+"\n                    ")])])])])])]);}),[],!1,null,"1cde0401",null).exports;function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var N={name:"confirm",props:{currentComment:Object},data:function(){return{img:null};},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{showIcon:function(img){this.img=img;}},mounted:function(){this.$bus.$on("emitToImageSave",this.showIcon);},beforeDestroy:function(){this.$bus.$off("emitToImageSave",this.showIcon);}},F=Object(m.a)(N,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.currentComment.author.name?o("p",[o("b",[t._v("Автор:")]),t._v(" "+t._s(t.currentComment.author.name)+"\n    ")]):t._e(),t._v(" "),t.currentComment.text?o("p",{staticClass:"text-truncate",staticStyle:{"max-width":"300px"}},[o("b",[t._v("Текст:")]),t._v(" "),o("small",[t._v("\n            "+t._s(t.currentComment.text)+"\n        ")])]):t._e(),t._v(" "),t.currentComment.image?o("div",{staticClass:"form-group my-4"},[o("img",{staticClass:"d-block m-auto",staticStyle:{width:"100px",height:"100px"},attrs:{src:t.currentComment.image,alt:"img"}})]):o("div",{staticClass:"form-group my-3"},[t.img?o("p",[o("b",[t._v("Фото: ")]),t._v(t._s(t.img.name))]):t._e()])]);}),[],!1,null,"307640c5",null).exports;function W(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var z={name:"editComment",components:{addComment:D,CommentPreview:F},props:{currentComment:Object},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{changeComment:function(t){this.currentComment.text=t;}}};function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var V={name:"CommentConfigPopup",components:{confirm:L,addComment:D,editComment:Object(m.a)(z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",[o("div",{attrs:{tabindex:"100",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-body pb-0"},[o("h3",{staticStyle:{color:"black"}},[t._v("\n                        "+t._s(this.$options.filters.toUSD(t.language,"Редактирование"))+"\n                    ")]),t._v(" "),o("comment-preview",{attrs:{currentComment:t.currentComment}}),t._v(" "),o("addComment",{attrs:{editcomment:"",text:t.currentComment.text},on:{close:function(e){return t.$emit("closeModal");},changeComment:t.changeComment}})],1)])])])]);}),[],!1,null,"74787c44",null).exports,CommentPreview:F},props:{target:String,currentComment:Object,tok:String},data:function(){return{name:"",email:"",password:"",repeat:"",isConfirmMessage:!1,isEditCommentVisible:!1};},validations:{email:{email:f.email,required:f.required},password:{required:f.required,minLength:Object(f.minLength)(6)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({},Object(h.b)(["language"])),methods:{login:function(){var t=this;this.$axios.post("login",{email:this.email,password:this.password}).then((function(e){t.setCookie("token",e.data.key,2),"like"===t.target?t.itsLike():t.itsComment(),t.closeModal(),t.$notify({group:"foo",type:"success",title:"",text:"Вы успешно зарегистрировались!"});})).catch((function(){t.$notify({group:"foo",type:"error",title:"Ошибка входа",text:e.text});}));},toggleEditComment:function(){this.isEditCommentVisible=!this.isEditCommentVisible;},onClickDelete:function(){this.isConfirmMessage=!this.isConfirmMessage;},deleteComment:function(t){var e=this;this.$axios.delete("delete_comment/".concat(t),{data:{token:this.tok}}).then((function(o){e.onClickDelete(),e.$bus.$emit("updateChild",t),e.$emit("closeModal"),e.$notify({group:"top",type:"success",title:"Успех!",text:"Комментарий был удалён"});})).catch((function(t){e.$notify({group:"top",type:"error",title:"Ошибка",text:"Вы не можете удалять чужие комментарии!"});}));},setCookie:function(t,e,o){document.cookie=t+"="+e+";";var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);n.toUTCString();document.cookie=t+"="+e+";";},submitHandler:function(){var t=this;if(this.$v.$invalid)this.$v.$touch();else{var e={name:this.name,email:this.email,password:this.password,c_password:this.repeat};this.$axios.post("register",e,{crossdomain:!0,mode:"no-cors",dataType:"json"}).then((function(){t.login();})).catch((function(e){t.$notify({group:"foo",type:"error",title:"Ошибка при регистрации",text:e.text});}));}},itsLike:function(){this.$emit("addLike");},itsComment:function(){this.$emit("addComment");},closeModal:function(){this.$emit("closeModal");},showLogin:function(){this.$emit("showLogin");}}},A=Object(m.a)(V,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"p-5",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e);}}},[o("div",{staticClass:"moda",attrs:{tabindex:"100",role:"dialog"}},[o("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t.isConfirmMessage||t.isEditCommentVisible?t._e():o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header moda-header"},[o("h3",[t._v("\n                        "+t._s(t.$options.filters.toUSD(t.language,"Мартова Риверсайд"))+"\n                    ")]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),o("div",{staticClass:"modal-body p-5 pb-0"},[o("comment-preview",{attrs:{currentComment:t.currentComment}}),t._v(" "),o("div",{staticClass:"form-group my-2"},[o("button",{staticClass:"form-control",attrs:{type:"button",id:"editBtn"},on:{click:t.toggleEditComment}},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Редактировать"))+"\n                        ")])]),t._v(" "),o("div",{staticClass:"form-group my-2"},[o("button",{staticClass:"form-control",attrs:{type:"button",id:"editBtn"},on:{click:t.onClickDelete}},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Удалить"))+"\n                        ")])]),t._v(" "),o("div",{staticClass:"form-group my-2"},[o("button",{staticClass:"form-control",attrs:{type:"button",id:"editBtn"},on:{click:function(e){return e.preventDefault(),t.closeModal(e);}}},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Отмена"))+"\n                        ")])])],1)]),t._v(" "),t.isConfirmMessage&&!t.isEditCommentVisible?o("confirm",{on:{closeModal:t.onClickDelete,deleteComment:function(e){return t.deleteComment(t.currentComment.id);}}}):t._e(),t._v(" "),t.isEditCommentVisible?o("editComment",{attrs:{currentComment:t.currentComment},on:{"update:currentComment":function(e){t.currentComment=e;},"update:current-comment":function(e){t.currentComment=e;},closeModal:t.toggleEditComment}}):t._e()],1)])]);}),[],!1,null,"28af1f00",null).exports;function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable;}))),e.push.apply(e,o);}return e;}var B={name:"News",components:{VPopover:c.a,social:d,login:C,registration:x,addComment:D,comment:E,CommentConfigPopup:A},data:function(){return{myHtml:null,currentComment:null,isCommentConfigVisible:!1,isShowComment:!1,isShowModal:!1,isLogin:!1,isMore:!1,showMoreId:null,target:"",file:null,currentId:null,comments_count:7,likes:185,news:null,showCommentInput:!1,tok:"",isCookie:!1};},asyncData:function(t){var e=this;return t.$axios.get("news").then((function(t){return{news:t.data.data};})).catch((function(t){e.$notify({group:"top",type:"error",title:"Ошибка",text:t});}));},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e));}));}return t;}({getWindowWidth:function(){return window.innerWidth;},getWindowHeight:function(){return window.innerHeight;},currentPost:function(){return this.$store.getters.postId;}},Object(h.b)(["language","currentUserName"])),methods:{toggleCommentConfig:function(t){console.log(t.author.name,this.currentUserName,this.tok),this.tok&&this.currentUserName===t.author.name&&(this.currentComment=t,this.isCommentConfigVisible=!0,this.isShowModal=!0);},showAllComment:function(t){this.$store.commit("SET_POST_ID",t),this.isShowComment=!this.isShowComment,this.showCommentField(t);},showAll:function(t){this.$store.commit("SET_POST_ID",t),this.isShowComment=!0;},showCommentField:function(t){this.showCommentInput?(this.showCommentInput=!1,this.isShowComment=!1):(this.currentId=t,this.$store.commit("SET_POST_ID",t),this.getCookie("token"),this.isCookie&&(this.showCommentInput=!0));},closeModal:function(){this.isShowModal=!1,this.isCommentConfigVisible=!1;},closeModalAndUpdate:function(){this.closeModal(),this.updateComments();},showModal:function(t,e){this.target=t,this.isShowModal=!0,this.$store.commit("SET_POST_ID",e);},showLogin:function(){this.isLogin=!0;},getCutNews:function(t){this.showMoreId=t.id,this.isMore=!1;},getNews:function(){var t=this;this.$axios.get("news").then((function(e){t.news=e.data.data;})).catch((function(e){t.$notify({group:"top",type:"error",title:"Ошибка",text:e});}));},cuttedText:function(t){return(t="ru"===this.language?t.ru_description:t.ua_description).length>100?t.slice(0,100)+"..."+"<a class=\"moreLink\">".concat(this.$options.filters.toUSD(this.language,"ещё"),"</a>"):t.length<100?t:t+"..."+"<a class=\"moreLink\">".concat(this.$options.filters.toUSD(this.language,"ещё"),"</a>");},fulledText:function(t){return(t="ru"===this.language?t.ru_description:t.ua_description)+"<a class=\"moreLink\">".concat(this.$options.filters.toUSD(this.language,"Скрыть"),"</a>");},getFullNews:function(t){this.isMore=!0,this.showMoreId=t.id,t="ru"===this.language?t.ru_description:t.ua_description;},addLike:function(t){var e=this;this.currentId=t,this.getCookie("token"),this.isCookie&&this.$axios.$put("news_like/".concat(this.currentId),{token:this.tok,withCredentials:!0,headers:{Cookie:"token=".concat(this.tok)}}).then((function(){e.getNews(),e.$notify({group:"top",type:"success",title:"",text:"+1 лайк"});})).catch((function(t){e.$notify({group:"top",type:"error",title:"",text:"Лайк уже поставлен."});}));},imageSave:function(image){this.file=image;},updateComments:function(){this.$store.commit("SET_POST_ID",this.currentPost),this.isShowComment=!0,this.getNews(),this.$bus.$emit("updateChild"),this.showAll(this.currentPost);},addComment:function(data){var t=this,e=new FormData;this.getCookie("token"),this.isCookie&&(this.file?(e.append("image",this.file),e.append("text",data),e.append("token",this.tok),e.append("withCredentials",!0),this.$axios.$post("add_comment/".concat(this.currentPost),e,{crossdomain:!0,mode:"no-cors",dataType:"json",headers:{Cookie:"token=".concat(this.tok)}}).then((function(){t.updateComments(),t.$notify({group:"top",type:"success",title:"Успех",text:"Данные обновлены!"});})).catch((function(e){t.isCookie?t.$notify({group:"top",type:"error",title:"Ошибка",text:e}):t.$notify({group:"top",type:"error",title:"Ошибка",text:"Необходимо авторизироваться!"});}))):this.$axios.$post("add_comment/".concat(this.currentPost),{image:null,text:data,token:this.tok,withCredentials:!0,headers:{Cookie:"token=".concat(this.tok)}}).then((function(){t.updateComments(),t.$notify({group:"top",type:"success",title:"Успех",text:"Данные обновлены!"});})).catch((function(){t.$notify({group:"top",type:"error",title:"Ошибка",text:"Необходимо авторизироваться!"});})));},sendEditComment:function(data){var t=this,e=new FormData;this.getCookie("token"),this.isCookie&&(this.file?(e.append("image",this.file),e.append("text",data),e.append("token",this.tok),e.append("withCredentials",!0),this.$axios.$post("update_comment/".concat(this.currentComment.id),e,{crossdomain:!0,mode:"no-cors",dataType:"json",headers:{Cookie:"token=".concat(this.tok)}}).then((function(){t.updateComments(),t.closeModal(),t.$notify({group:"top",type:"success",title:"Успех",text:"Данные обновлены!"});})).catch((function(e){t.isCookie?t.$notify({group:"top",type:"error",title:"Ошибка",text:e}):t.$notify({group:"top",type:"error",title:"Ошибка",text:"Необходимо авторизироваться!"});}))):this.$axios.$post("update_comment/".concat(this.currentComment.id),{image:null,text:data,token:this.tok,withCredentials:!0,headers:{Cookie:"token=".concat(this.tok)}}).then((function(){t.updateComments(),t.closeModal(),t.$notify({group:"top",type:"success",title:"Успех",text:"Данные обновлены!"});})).catch((function(){t.$notify({group:"top",type:"error",title:"Ошибка",text:"Необходимо авторизироваться!"});})));},setCookie:function(t,e,o){document.cookie=t+"="+e+";";var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);n.toUTCString();document.cookie=t+"="+e+";";},getCookie:function(t){for(var e=t+"=",o=decodeURIComponent(document.cookie).split(";"),i=0;i<o.length;i++){for(var n=o[i];" "==n.charAt(0);)n=n.substring(1);0==n.indexOf(e)?(this.isCookie=!0,this.tok=n.substring(e.length,n.length)):this.isCookie=!1;}return"";}},mounted:function(){if(this.$bus.$on("sendEditComment",this.sendEditComment),this.$bus.$on("emitToImageSave",this.imageSave),this.$bus.$on("addLike",this.addLike),this.$route.query.key&&(this.setCookie("token",this.$route.query.key,2),this.$router.push(this.$route.path)),this.getCookie("token"),!this.currentUserName){var t=localStorage.getItem("currentUserName");this.$store.commit("SET_USER_NAME",t);}},beforeDestroy:function(){this.$bus.$off("addLike"),null!==this.currentUserName&&localStorage.setItem("currentUserName",this.currentUserName);},watch:{currentUserName:function(t){null!==this.currentUserName?localStorage.setItem("currentUserName",this.currentUserName):localStorage.removeItem("currentUserName");}}},J=(n(425),Object(m.a)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.news?o("div",{staticClass:"news-wrapper d-flex"},[t.getWindowWidth<=1281?o("img",{staticClass:"bg",attrs:{src:"/news/1280News.png",alt:"big"}}):t.getWindowWidth>1280&&t.getWindowWidth<1681?o("img",{staticClass:"bg",attrs:{id:"bg",src:"/news/1680News.png",alt:"big"}}):t.getWindowWidth>1681&&t.getWindowWidth<1921&&t.getWindowHeight<1090?o("img",{staticClass:"bg",attrs:{src:"/news/1920News.jpg",alt:"big"}}):t.getWindowWidth>1681&&t.getWindowWidth<1921&&t.getWindowHeight>1091?o("img",{staticClass:"bg",attrs:{src:"/news/19201News.jpg",alt:"big"}}):t.getWindowWidth>=1921&&t.getWindowWidth<2800?o("img",{staticClass:"bg",attrs:{src:"/news/2048News.png",alt:"big"}}):o("img",{staticClass:"bg",attrs:{src:"/news/4kNews.png",alt:"big"}}),t._v(" "),o("main",{staticClass:"news pb-1"},t._l(t.news,(function(e){return o("div",{key:e.id,staticClass:"news-item p-3 pb-2 mt-3"},[o("div",{staticClass:"news-item__header"},[o("h3",[t._v("\n                    "+t._s("ru"===t.language?e.ru_name:e.ua_name)+"\n                ")]),t._v(" "),o("p",{staticClass:"date mb-2"},[t._v(t._s(e.updated_at))])]),t._v(" "),o("div",{staticClass:"news-item__body"},[o("div",{staticClass:"img-container"},[o("img",{attrs:{src:e.image,alt:"news"}})]),t._v(" "),o("div",{staticClass:"likes-container d-flex justify-content-between pt-2 pb-3"},[o("div",{staticClass:"likes d-flex align-items-center"},[o("img",{attrs:{src:"/colorLike.svg",alt:"like_image"}}),t._v(" "),o("span",{staticClass:"ml-1"},[t._v(" "+t._s(e.likes_count))])]),t._v(" "),o("span",{ref:"comments",refInFor:!0,staticStyle:{cursor:"pointer"},on:{click:function(o){return t.showAllComment(e.id);}}},[t._v("\n                        "+t._s(t.$options.filters.toUSD(t.language,"Комментарии"))+": "+t._s(e.comments_count)+"\n                    ")])]),t._v(" "),e.ru_description||e.ua_description?[t.isMore&&t.showMoreId===e.id?o("div",{staticClass:"more-news text mb-2",domProps:{innerHTML:t._s(t.fulledText(e))},on:{click:function(o){return t.getCutNews(e);}}}):o("div",{staticClass:"text mb-2",domProps:{innerHTML:t._s(t.cuttedText(e))},on:{click:function(o){return t.getFullNews(e);}}})]:t._e()],2),t._v(" "),o("div",{staticClass:"news-item__footer likes-container d-flex justify-content-between py-2"},[t.isShowModal?t._e():o("v-popover",[o("div",{staticClass:"likes likes__hover likes-white d-flex align-items-center",attrs:{"tooltip-target":""},on:{click:function(o){return t.addLike(e.id);}}},[o("img",{staticClass:"like",staticStyle:{"font-size":"32px",width:"18px",height:"18px"},attrs:{src:"/like.svg",alt:"like"}}),t._v(" "),o("span",{staticClass:"ml-1 caps"},[t._v(t._s(t.$options.filters.toUSD(t.language,"Нравится")))])]),t._v(" "),t.isCookie?t._e():o("template",{staticStyle:{background:"rgba(0, 0, 0, 0.6)"},slot:"popover"},[o("p",{staticClass:"mt-2 mb-0 sign text-black-50"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Войти с помощью"))+":\n                        ")]),t._v(" "),o("social",{on:{emitOpenFormModal:function(o){return t.showModal("like",e.id);}}})],1)],2),t._v(" "),t.isShowModal?t._e():o("v-popover",[o("div",{staticClass:"likes likes__hover d-flex align-items-center justify-content-end",staticStyle:{width:"200px"},attrs:{"tooltip-target":""},on:{click:function(o){return t.showCommentField(e.id);}}},[o("img",{staticStyle:{width:"18px",height:"18px"},attrs:{src:"/comment11.svg",alt:"search"}}),t._v(" "),o("span",{staticClass:"ml-2 caps"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Комментировать")))])]),t._v(" "),t.isCookie?t._e():o("template",{staticStyle:{background:"rgba(0, 0, 0, 0.6)"},slot:"popover"},[o("p",{staticClass:"mt-2 mb-0 sign text-black-50"},[t._v("\n                            "+t._s(t.$options.filters.toUSD(t.language,"Войти с помощью"))+":\n                        ")]),t._v(" "),o("social",{on:{emitOpenFormModal:function(o){return t.showModal("comment",e.id);}}})],1)],2)],1),t._v(" "),o("transition",{attrs:{name:"fade"}},[t.isShowComment&&t.currentPost==e.id?o("comment",{key:"container",attrs:{isShowComment:t.isShowComment,tok:t.tok,currentComment:t.currentComment},on:{toggleCommentConfig:t.toggleCommentConfig}}):t._e()],1),t._v(" "),o("transition",{attrs:{name:"fade"}},[t.showCommentInput&&t.currentId==e.id?o("addComment",{attrs:{id:e.id},on:{addComment:t.addComment,emitToImageSave:t.imageSave}}):t._e()],1)],1);})),0),t._v(" "),t.isShowModal?o("div",{staticClass:"layer d-flex justify-content-center align-items-center"},[t.isLogin&&!t.isCommentConfigVisible?o("login",{attrs:{target:t.target,id:t.currentId},on:{addLike:function(e){return t.addLike(t.currentId);},addComment:function(e){return t.showCommentField(t.currentId);},loginFalse:function(e){t.isLogin=!1;},closeModal:t.closeModal}}):t._e(),t._v(" "),t.isLogin||t.isCommentConfigVisible?t._e():o("registration",{attrs:{target:t.target,id:t.currentId},on:{addLike:function(e){return t.addLike(t.currentId);},addComment:function(e){return t.showCommentField(t.currentId);},showLogin:t.showLogin,closeModal:t.closeModal}}),t._v(" "),t.isCommentConfigVisible?o("CommentConfigPopup",{attrs:{target:t.target,currentComment:t.currentComment,id:t.currentId,tok:t.tok},on:{closeModal:t.closeModalAndUpdate}}):t._e()],1):t._e()]):t._e();}),[],!1,null,"6f579f69",null));o.default=J.exports;}}]);